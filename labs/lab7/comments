Note: you can't use free for memory allocate with new! Use delete instead.
